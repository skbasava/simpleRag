version: 1.0.0
environment: production

server:
  port: 3080
  host: 0.0.0.0
  trustProxy: true

ui:
  defaultTheme: dark
  showModelPicker: true
  enableSystemMessages: true

logging:
  level: info

# ================================
# Authentication
# ================================
auth:
  enableRegistration: false
  enableLogin: true
  session:
    secret: "${LIBRECHAT_SESSION_SECRET}"

# ================================
# Model Providers
# ================================
models:
  openai:
    tag-rag:
      label: "TAG Policy RAG"
      endpoint: openai
      baseURL: "http://rag-service:6000/v1"
      apiKey: "DUMMY_KEY"

      models:
        tag-service:
          label: "TAG Policy Engine"
          maxContextTokens: 4096
          maxTokens: 2048
          temperature: 0.2
          stream: false
          timeout: 120000

# ================================
# Default Model
# ================================
defaultModel: openai:tag-rag:tag-service

# ================================
# UI Presets (SYSTEM PROMPT LIVES HERE)
# ================================
presets:
  - name: "TAG â€“ Policy Analysis"
    description: "Policy analysis, MPU, registers, access rules, memory maps"
    model: openai:tag-rag:tag-service
    temperature: 0.2
    systemPrompt: |
      You are TAG, an intelligent policy analysis assistant.

      Core rules:
      - Answer policy, register, address, MPU, memory-map, and project-specific queries using retrieved data.
      - For conceptual or explanatory questions, respond naturally and clearly.
      - Never expose SQL queries, embeddings, vector stores, or routing logic.
      - Be precise, structured, and factual.
      - If information is unavailable, say so explicitly.

# ================================
# Rate Limiting
# ================================
rateLimit:
  windowMs: 60000
  maxRequests: 120

# ================================
# CORS
# ================================
cors:
  enabled: true
  origins:
    - "*"